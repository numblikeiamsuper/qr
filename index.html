<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Short.io Link Creator (via corsproxy.io)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="icon" href="data:,"><!-- Prevent favicon 404 -->
<style>
  body { font-family: sans-serif; max-width: 800px; margin: auto; padding: 1em; }
  h1 { font-size: 1.4em; }
  label { display: block; margin-top: 1em; }
  input, textarea, button { width: 100%; padding: 0.5em; margin-top: 0.3em; }
  pre { background: #f0f0f0; padding: 0.5em; overflow-x: auto; }
</style>
</head>
<body>
<h1>Short.io Link Creator (CORS Proxy)</h1>

<label>
  Original URL:
  <input id="originalUrl" type="url" placeholder="https://example.com/page">
</label>

<label>
  Domain (example: your-domain.short.gy):
  <input id="domain" type="text" placeholder="your Short.io domain">
</label>

<label>
  Path (optional custom alias):
  <input id="path" type="text" placeholder="custom-alias">
</label>

<button id="createBtn">Create Link</button>

<h2>Response</h2>
<pre id="responseOutput"></pre>

<script>
(function(){
  const API_KEY = "pk_2XsAJ0BPv1WthdRi"; // Hardâ€‘coded API key
  const corsProxyBase = "https://corsproxy.io/?url=";
  const shortioBase = "https://api.short.io/links"; // Official API endpoint

  async function createLink() {
    const originalUrl = document.getElementById('originalUrl').value.trim();
    const domain = document.getElementById('domain').value.trim();
    const path = document.getElementById('path').value.trim();

    if (!originalUrl || !domain) {
      alert("Please enter Original URL and Domain");
      return;
    }

    const proxiedUrl = corsProxyBase + encodeURIComponent(shortioBase);

    const payload = {
      originalURL: originalUrl,
      domain: domain,
    };
    if (path) payload.path = path;

    try {
      const res = await fetch(proxiedUrl, {
        method: "POST",
        headers: {
          "Authorization": API_KEY,
          "Content-Type": "application/json"
        },
        body: JSON.stringify(payload)
      });

      const data = await res.json();
      document.getElementById('responseOutput').textContent = JSON.stringify(data, null, 2);
    } catch (err) {
      document.getElementById('responseOutput').textContent = "Error: " + err.message;
    }
  }

  document.getElementById('createBtn').addEventListener('click', createLink);
})();
</script>

</body>
</html>
